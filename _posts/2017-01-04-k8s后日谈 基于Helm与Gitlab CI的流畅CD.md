todo.

尽管这套太不可控,不一定能上生产,不过留个坑督促自己把这套实践一下. 

主要思路就是

- Gitlab CI
- Docker Registry
- Helm
- Traefik
- K8s

可以看到新技术栈也就Helm,另外Gitlab CI的`when: manual`我也是第一次见,需要熟悉一下场景. 

![](https://o4dyfn0ef.qnssl.com/image/2017-01-04-1-28fxkqiwUO6sC3C1Z_uCeA.png?imageView2/2/h/400) 

ref: 

- [1](https://articles.microservices.com/gitlab-consumer-driven-contracts-helm-and-kubernetes-b7235a60a1cb#.r65hsyb1c)
- [2](https://gitlab.com/consumer-driven-contract-helm-deployment)