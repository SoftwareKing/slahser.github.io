![](https://o4dyfn0ef.qnssl.com/image/2016-10-03-Screen%20Shot%202016-10-03%20at%2016.45.42.png?imageView2/2/h/300) 

å¯¹äºç½‘ç»œç›¸å…³æˆ‘è¿œæ²¡æœ‰è®ºå›ä¸Šé‚£äº›äººä¸“ä¸š,ä¸çŸ¥é“ä»–ä»¬è´§æ¯”ä¸‰å®¶çš„åŠ²å¤´å„¿æ˜¯å“ªå„¿æ¥çš„.. 

> è®ºå›ä¸Šä¸€æ˜¯ä¹°vps,äºŒæ˜¯æè·¯ç”±å™¨,è¿™ä¸¤å—æˆ‘ä¸€çœ‹åˆ°å°±å¤´ç–¼. 

æ‰‹å¤´æœ‰äº†ä¸€ä»½å¥‡æ€ªçš„éœ€æ±‚,æ‰€ä»¥éšæ‰‹ä¹°ä¸ªvpsæä¸ªssç»™é›†ç¾¤ç”¨.  

å¾ˆä¹…ä»¥å‰æˆ‘å†™è¿‡[osxä¸Šçš„Surgeä¸SS](http://www.slahser.com/2016/03/31/osxä¸Šçš„Surgeä¸SS/)å’Œ[æ—¥å¿—ç›‘æ§å¹³å°ä¼˜åŒ–-å¯ç”¨Supervisor](http://www.slahser.com/2016/04/27/æ—¥å¿—ç›‘æ§å¹³å°ä¼˜åŒ–-å¯ç”¨Supervisor/),æ‰€ä»¥è¿™ç¯‡æ–°ä¸œè¥¿ä¹Ÿä¸ä¼šå¤ªå¤š. 

- æ¬ç“¦å·¥è´­ä¹°
- shadowsockså¼€å¯
- net-speeder
- supervisor
- pi ss client
- polipo
- surge for mac 

## åŸºæœ¬ 

è´­ä¹°ä¸æ,é…ç½®ä¸æ. 

> è¿˜æ˜¯æä¸€ä¸‹,æˆ‘ä¹°çš„æ˜¯10G PROMO V3 - PHOENIX AZ. 

è¿›å…¥kiwivmè°ƒå¯†ç /hostname/å®‰è£…ss/ä¿®æ”¹ssåŠ å¯†ç®—æ³•/ä¿®æ”¹sså¯†ç . 

## net-speeder 

è¿™é‡Œæ˜¯[åœ°å€](https://github.com/snooda/net-speeder)

åŒå€å‘åŒ…é˜²æ­¢ä¸¢åŒ…çš„è½¯ä»¶,åŒå€è€—è´¹æµé‡. 

> æˆ‘è¿™è¾¹å‡¤å‡°åŸçš„æ¬ç“¦å·¥å®æµ‹æ˜¯pingç¨å¾®é™ä½,ä¸Šä¼ ä¸‹è½½é€Ÿåº¦4å€å·¦å³. 

é»˜è®¤å®‰è£…çš„centos6ä¸‹: 

```
wget https://github.com/snooda/net-speeder/archive/master.zip
unzip master.zip

wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
rpm -ivh epel-release-6-8.noarch.rpm
yum install libnet libpcap libnet-devel libpcap-devel gcc

cd net-speeder-master
sh build.sh -DCOOKED
``` 

è€Œåç¼–è¾‘supervisorè„šæœ¬: 

```
[program:netspeeder]
command=/net-speeder-master/net_speeder
user = root       ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨
autostart = true     ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨
startsecs = 5        ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†
autorestart = true   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
startretries = 3     ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 3
``` 

è€Œå: 

```
supervisord -c /etc/supervisord.conf
supervisorctl -c /etc/supervisord.conf 
``` 

## piå®¢æˆ·ç«¯  

é…ç½®æ¨é€: 

```json
{
    "server":"xxx.xxx.xxx.xxx",
    "server_port":xxx,
    "local_address": "127.0.0.1",
    "local_port":1080,
    "password":"xxxx",
    "timeout":600,
    "method":"aes-256-cfb"
}
```

å°½ç®¡ç‰ˆæœ¬å¾ˆè€,ä½†è¿˜æ˜¯ç”¨ç€å§

```
agt-get install shadowsocks

[program:ss]
command=sslocal -c /etc/shadowsocks.json
autostart = true     
startsecs = 5        
autorestart = true   
startretries = 3     
user = root 
``` 

> åŠ å¯†æ–¹æ³•è€ç‰ˆæœ¬ä¸æ”¯æŒrc4-md5. 

é‚£ä¹ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯éšæ—¶æŸ¥çœ‹ssæƒ…å†µ: 

```shell
ansible pis -m command -a 'supervisord -c /etc/supervisord.conf'
ansible pis -m command -a 'supervisorctl -c /etc/supervisord.conf'
ansible pis -m command -a 'supervisorctl status ss'
``` 

> è¿™å—æˆ‘ä¸æƒ³è®¾ç½®å¼€æœºå¯åŠ¨,å› ä¸ºä»¥åä¼šåœ¨supervisorä¸Šç»´æŠ¤å…¶ä»–ä¸œè¥¿. 

## è½¬åŒ–ä¸ºhttp proxy 

```
apt-get install -y polipo
service polipo stop
```

ç¼–è¾‘é…ç½®æ–‡ä»¶: 

```
vim /etc/polipo/config

socksParentProxy = "localhost:1080"
socksProxyType = socks5

echo "export http_proxy=http://localhost:8123" >> ~/.bashrc
``` 

>å¼€æœºè‡ªå¯åŠ¨å·²ç»è®¾ç½®å¥½äº†. 

```
service polipo start
http_proxy=http://localhost:8123 curl ip.gs
``` 

## surge for mac 

surge for macæ—¶è‡³ä»Šæ—¥å·²ç»æ›´æ–°äº†ä¸€ä¸ªå¤§ç‰ˆæœ¬,æ”¯æŒè¯»å–iCloudå•Š,guié…ç½®å•Š,æŠ“åŒ…å•Šä¹‹ç±»çš„. 

æˆ‘æ›´æ–°ä¸€ä¸‹æˆ‘çš„é…ç½®æ–‡ä»¶:

```
[General]
dns-server = 223.6.6.6,223.5.5.5,114.114.114.114,114.114.115.115

loglevel = notify

skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, e.crashlytics.com

ipv6 = true

bypass-tun = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
bypass-system = true

interface = 0.0.0.0
socks-interface = 0.0.0.0

port = 6152
socks-port = 6153

allow-wifi-access = 0

[Proxy]
ğŸ’Š Direct = direct
ğŸ‡¯ğŸ‡µ JP = custom,xxx.xxx.xxx.xxx,xxx,rc4-md5,xxxx,https://raw.githubusercontent.com/lhie1/Surge/master/SSEncrypt.module
ğŸ‡ºğŸ‡¸ US = custom,xxx.xxx.xxx.xxx,xxx,aes-256-cfb,xxxx,https://raw.githubusercontent.com/lhie1/Surge/master/SSEncrypt.module

[Proxy Group]
âœˆï¸ Proxy = select, ğŸ’Š Direct, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡¸ US, ğŸƒ Auto
cn Proxy = select, ğŸ’Š Direct, âœˆï¸ Proxy
ğŸ Proxy = select, ğŸ’Š Direct, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡¸ US
ğŸƒ Auto = url-test, ğŸ‡¯ğŸ‡µ JP, ğŸ‡ºğŸ‡¸ US, url = http://www.gstatic.com/generate_204

[Rule]
*** 
``` 

done. 

