<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Osx上的surge与ss</title>
  <link rel="stylesheet" href="//fonts.useso.com/css?family=Source+Sans+Pro:300,300i,600">
  <link rel="stylesheet" href="/style.css">
  <!-- Begin Jekyll SEO tag v1.3.1 -->
<title>Osx上的surge与ss - Coup de Grace</title>
<meta property="og:title" content="Osx上的surge与ss" />
<meta name="description" content="intro" />
<meta property='og:description' content="intro" />
<link rel="canonical" href="http://www.slahser.com/2016/03/31/osx%E4%B8%8A%E7%9A%84Surge%E4%B8%8ESS/" />
<meta property='og:url' content='http://www.slahser.com/2016/03/31/osx%E4%B8%8A%E7%9A%84Surge%E4%B8%8ESS/' />
<meta property="og:site_name" content="Coup de Grace" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-03-31T00:00:00+08:00" />
<link rel="next" href="http://www.slahser.com/2016/03/31/%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E4%B8%8Egithub%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E4%B8%9C%E8%A5%BF/" title="新浪微博与github的一些小东西" />
<link rel="prev" href="http://www.slahser.com/2016/03/30/%E7%88%AA%E5%93%87%E8%99%8E%E4%B9%A6%E8%AF%BB%E5%90%8E-%E6%9C%89%E5%85%B3Nashorn/" title="爪哇虎书读后 有关nashorn" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@S1ahs3r" />
<meta name="twitter:title" content="Osx上的surge与ss - Coup de Grace" />
<meta name="twitter:description" content="intro" />
<meta name="twitter:creator" content="@S1ahs3r" />
<script type="application/ld+json">
  {
    "@context" : "http://schema.org",


    "@type" : "BlogPosting",

    "headline": "Osx上的surge与ss",

    "datePublished": "2016-03-31T00:00:00+08:00",

    "description": "intro",


    "url" : "http://www.slahser.com/2016/03/31/osx%E4%B8%8A%E7%9A%84Surge%E4%B8%8ESS/"
  }
</script>
<!-- End Jekyll SEO tag -->
  <!--baidu analysis-->
  <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?800b2d15920eea57fe7abcb3c52892f6";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
  </script>
</head>
<body>
  <div class="container">
    <header class="masthead">
  <h1 class="masthead-title--small">
    <a href="/">Coup de Grace</a>
  </h1>
</header>
<div class="content post">
  <h1 class="post-title">Osx上的surge与ss</h1>
  <div class="post-date">
    <time>31 Mar 2016</time>
  </div>
  <h3 id="intro">intro</h3>

<p>接近两年的日子里我一直在用ybb.</p>

<p><img src="http://7xqjx7.com1.z0.glb.clouddn.com/image/Screen%20Shot%202016-03-31%20at%2014.40.40.png?imageView2/2/h/100" alt="" />
在系统中开启了一个SOCKS5代理,代理全局,同时支持shell环境与ssh的代理</p>

<p>稳定,好吃不贵.</p>

<p>不过目前已经停止注册,我也只是在停止注册前给自己跟老婆买了两份,一直续费至今.</p>

<p>最近买挂耳咖啡,店家赠送了几十G的SS流量,索性拿出之前的Surge for Mac Beta操作一番.</p>

<blockquote>
  <p>Surge与SS二者均需单独购买</p>
</blockquote>

<p><img src="http://7xqjx7.com1.z0.glb.clouddn.com/image/Screen%20Shot%202016-03-31%20at%2014.51.24.png?imageView2/2/h/100" alt="" /></p>

<h3 id="install">install</h3>

<p>进入Surge for iOS -&gt; More -&gt; 摇一摇手机 -&gt; Surge for Mac -&gt;输入 step1 的<a href="http://surge.run/Surge-Mac.zip">链接</a>下载app</p>

<p>打开mac上Surge.app,而后点击手机Surge for Mac页面的step4进行激活</p>

<h3 id="config">config</h3>

<p>Mac上编写配置文件<code class="highlighter-rouge">vim ~/.surge.conf</code>,内容如文末所示</p>

<p>打开 Network-&gt;advanced-&gt;proxies 勾选如图所示http与https代理,填入<code class="highlighter-rouge">127.0.0.1:6152</code></p>

<p>在同一页面下方bypass列表填入<code class="highlighter-rouge">*.local, 169.254/16, 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost</code></p>

<p><img src="http://7xqjx7.com1.z0.glb.clouddn.com/image/Screen%20Shot%202016-03-31%20at%2014.54.51.png?imageView2/2/h/400" alt="" /></p>

<h3 id="usage">usage</h3>

<p>打开Surge.app ,勾选DIRECT是本机直连,其他选项为普通海外代理/ShadowSocks代理等等.</p>

<p>速度虽然不如ybb快但是也够用了:</p>

<p><img src="http://7xqjx7.com1.z0.glb.clouddn.com/image/Screen%20Shot%202016-03-31%20at%2013.32.32.png?imageView2/2/h/400" alt="" /></p>

<p>done.</p>

<p>osx 上配置文件模板如下:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="err">[General]</span>
<span class="py">loglevel</span> <span class="p">=</span> <span class="s">notify</span>
<span class="err">skip-</span><span class="py">proxy</span> <span class="p">=</span> <span class="s">192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12,127.0.0.0/24</span>
<span class="err">bypass-</span><span class="py">tun</span> <span class="p">=</span> <span class="s">192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12,127.0.0.0/24</span>

<span class="err">//</span> <span class="err">DNS</span> <span class="err">OVERRIDE</span>
<span class="err">dns-</span><span class="py">server</span> <span class="p">=</span> <span class="s">223.6.6.6,223.5.5.5,114.114.114.114,114.114.115.115</span>

<span class="err">[Proxy]</span>
<span class="c"># Proxy = http,$IP,$PORT,$USERNAME,$PASSWORD
# Proxy = https,$IP,$PORT,$USERNAME,$PASSWORD
# Proxy = socks,$IP,$PORT,$USERNAME,$PASSWORD
</span>
<span class="c"># Shadowsocks 配置，代理方式一定要是 custom
# Proxy = custom,$IP,$PORT,$METHOD,$PASSWORD,$MODULE_URL 
# 
# 可用配置文件 http://proxy.sofi.sh/surge.conf
# 代理需要 Shadowsocks 的一个模块，这里我放一个 http://proxy.sofi.sh/SSEncrypt.module
</span>
<span class="py">DIRECT</span><span class="p">=</span><span class="s">direct</span>
<span class="py">HTTP</span><span class="p">=</span><span class="s">http,$IP,$PORT,$USERNAME,$PASSWORD</span>
<span class="py">HTTPS</span><span class="p">=</span><span class="s">https,$IP,$PORT,$USERNAME,$PASSWORD</span>
<span class="py">SOCKS</span><span class="p">=</span><span class="s">socks,$IP,$PORT,$USERNAME,$PASSWORD</span>
<span class="py">SS</span><span class="p">=</span><span class="s">custom,$IP,$PORT,$METHOD,$PASSWORD,$MODULE_URL</span>

<span class="err">[Proxy</span> <span class="err">Group]</span>
<span class="py">Proxy</span> <span class="p">=</span> <span class="s">select,DIRECT,HTTP,HTTPS,SOCKS,SS</span>

<span class="err">[Rule]</span>

<span class="err">//</span> <span class="err">REJECT</span> <span class="err">RULES</span> <span class="err">BLOCK</span> <span class="err">SOME</span> <span class="err">ADS</span>
<span class="err">DOMAIN-SUFFIX,icloud-analysis.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,x.jd.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,sax.sina.cn,REJECT</span>
<span class="err">DOMAIN-SUFFIX,tanx.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,ads.genieessp.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,ad.unimhk.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,cpro.baidustatic.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,m.simaba.taobao.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,ads.yahoo.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,ib.adnxs.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,i-mobile.co.jp,REJECT</span>
<span class="err">DOMAIN-SUFFIX,g.doubleclick.net,REJECT</span>
<span class="err">DOMAIN-SUFFIX,adinfuse.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,admob.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,adwhirl.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,appads.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,inmobi.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,smartadserver.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,adsage.cn,REJECT</span>
<span class="err">DOMAIN-SUFFIX,duomeng.cn,REJECT</span>
<span class="err">DOMAIN-SUFFIX,duomeng.net,REJECT</span>
<span class="err">DOMAIN-SUFFIX,duomeng.org,REJECT</span>
<span class="err">DOMAIN-SUFFIX,googeadsserving.cn,REJECT</span>
<span class="err">DOMAIN-SUFFIX,guomob.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,immob.cn,REJECT</span>
<span class="err">DOMAIN-SUFFIX,mobads.baidu.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,mobads-logs.baidu.com,REJECT</span>
<span class="err">DOMAIN-SUFFIX,tapjoyads.com,REJECT</span>

<span class="err">//</span> <span class="err">CN</span> <span class="err">DIRECT</span>
<span class="err">DOMAIN-SUFFIX,cn,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,jd.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,yhd.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,58cdn.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,qunarzz.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,avosapps.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,mob.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,same.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,toutiao.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,zaih.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,lantouzi.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,smzdm.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,126.net,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,163.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,alicdn.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,amap.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,bdimg.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,bdstatic.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,cnbeta.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,cnzz.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,douban.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,gtimg.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,hao123.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,haosou.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,ifeng.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,iqiyi.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,netease.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,qhimg.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,qq.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,sogou.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,sohu.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,soso.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,suning.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,tmall.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,tudou.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,weibo.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,youku.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,xunlei.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,zhihu.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,huofu.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,5wei.com,DIRECT</span>

<span class="err">DOMAIN-KEYWORD,alipay,DIRECT</span>
<span class="err">DOMAIN-KEYWORD,taobao,DIRECT</span>
<span class="err">DOMAIN-KEYWORD,baidu,DIRECT</span>
<span class="err">DOMAIN-KEYWORD,360buy,DIRECT</span>
<span class="err">DOMAIN-KEYWORD,baidu,DIRECT</span>

<span class="err">//</span> <span class="err">Apple</span>
<span class="err">DOMAIN-SUFFIX,appldnld.apple.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,adcdownload.apple.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,lcdn-registration.apple.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,swcdn.apple.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,phobos.apple.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,ls.apple.com,DIRECT</span>
<span class="err">DOMAIN-SUFFIX,icloud.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,instagram.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,twimg.com,Proxy,force-remote-dns</span>
<span class="err">DOMAIN-SUFFIX,kenengba.com,Proxy,force-remote-dns</span>
<span class="err">DOMAIN-SUFFIX,apple.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,amazonaws.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,android.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,angularjs.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,appspot.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,akamaihd.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,amazon.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,bit.ly,Proxy</span>
<span class="err">DOMAIN-SUFFIX,bitbucket.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,blog.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,blogcdn.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,blogger.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,blogsmithmedia.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,box.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,bloomberg.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,chromium.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,cl.ly,Proxy</span>
<span class="err">DOMAIN-SUFFIX,cloudfront.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,cloudflare.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,cocoapods.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,crashlytics.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,dribbble.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,dropbox.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,dropboxstatic.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,dropboxusercontent.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,docker.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,duckduckgo.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,digicert.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,dnsimple.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,edgecastcdn.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,engadget.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,eurekavpt.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,fb.me,Proxy</span>
<span class="err">DOMAIN-SUFFIX,fbcdn.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,fc2.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,feedburner.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,fabric.io,Proxy</span>
<span class="err">DOMAIN-SUFFIX,flickr.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,fastly.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,ggpht.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,github.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,github.io,Proxy</span>
<span class="err">DOMAIN-SUFFIX,githubusercontent.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,golang.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,goo.gl,Proxy</span>
<span class="err">DOMAIN-SUFFIX,gstatic.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,godaddy.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,gravatar.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,imageshack.us,Proxy</span>
<span class="err">DOMAIN-SUFFIX,imgur.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,jshint.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,ift.tt,Proxy</span>
<span class="err">DOMAIN-SUFFIX,itunes.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,j.mp,Proxy</span>
<span class="err">DOMAIN-SUFFIX,kat.cr,Proxy</span>
<span class="err">DOMAIN-SUFFIX,linode.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,linkedin.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,licdn.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,lithium.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,megaupload.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,mobile01.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,modmyi.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,mzstatic.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,nytimes.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,name.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,openvpn.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,openwrt.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,ow.ly,Proxy</span>
<span class="err">DOMAIN-SUFFIX,pinboard.in,Proxy</span>
<span class="err">DOMAIN-SUFFIX,Proxyl-images-amazon.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,Proxytatic.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,stackoverflow.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,staticflickr.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,squarespace.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,symcd.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,symcb.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,symauth.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,ubnt.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,t.co,Proxy</span>
<span class="err">DOMAIN-SUFFIX,thepiratebay.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,tumblr.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,twimg.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,twitch.tv,Proxy</span>
<span class="err">DOMAIN-SUFFIX,twitter.com,Proxy,force-remote-dns</span>
<span class="err">DOMAIN-SUFFIX,wikipedia.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,wikipedia.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,wikimedia.org,Proxy</span>
<span class="err">DOMAIN-SUFFIX,wordpress.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,wsj.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,wsj.net,Proxy</span>
<span class="err">DOMAIN-SUFFIX,wp.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,vimeo.com,Proxy</span>
<span class="err">DOMAIN-SUFFIX,youtu.be,Proxy</span>
<span class="err">DOMAIN-SUFFIX,ytimg.com,Proxy</span>

<span class="err">//</span> <span class="err">LAN</span>
<span class="err">IP-CIDR,192.168.0.0/16,DIRECT</span>
<span class="err">IP-CIDR,10.0.0.0/8,DIRECT</span>
<span class="err">IP-CIDR,172.16.0.0/12,DIRECT</span>
<span class="err">IP-CIDR,127.0.0.0/8,DIRECT</span>

<span class="err">//</span> <span class="err">Telegram</span>
<span class="err">IP-CIDR,91.108.56.0/22,Proxy,no-resolve</span>
<span class="err">IP-CIDR,91.108.4.0/22,Proxy,no-resolve</span>
<span class="err">IP-CIDR,109.239.140.0/24,Proxy,no-resolve</span>
<span class="err">IP-CIDR,149.154.160.0/20,Proxy,no-resolve</span>


<span class="err">GEOIP,CN,DIRECT</span>
<span class="err">FINAL,Proxy</span>
</code></pre>
</div>


</div>
  </div>
</body>
</html>
